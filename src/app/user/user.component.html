<div class="columns">
  <div class="column is-one-third">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="field">
        <label class="label" for="name">Name</label>
        <div class="control">
          <input
            class="input is-primary"
            type="text"
            id="name"
            formControlName="name"
          />
          <div *ngIf="name.invalid && (name.dirty || name.touched)">
            <p class="help is-danger" *ngIf="name.errors.required">
              Name is required.
            </p>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="label" for="email">Email</label>
        <div class="control">
          <input
            class="input is-primary"
            type="email"
            id="email"
            formControlName="email"
          />
          <div *ngIf="email.invalid && (email.dirty || email.touched)">
            <p class="help is-danger" *ngIf="email.errors.required">
              Email is required.
            </p>
            <p class="help is-danger" *ngIf="email.errors.email">
              Email is not valid.
            </p>
            <p class="help is-danger" *ngIf="email.errors.existingEmail">
              Email already exists.
            </p>
          </div>
        </div>
      </div>

      <div class="field">
        <div class="control">
          <button
            class="button is-primary"
            type="submit"
            [disabled]="userForm.pristine || userForm.invalid"
          >
            Save
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="column">
    <pre class="user-pre">{{ userForm.value | json }}</pre>
  </div>
</div>
